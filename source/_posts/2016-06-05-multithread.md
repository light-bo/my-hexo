---
title: "说说 iOS 的多线程"
date: 2016-08-13 15:59:00
tags:
	- iOS
---

<!--more-->
说几句
====
对于客户端程序来说，界面的操作是否流畅是衡量这个程序质量高低很重要的指标。对于 iOS App 来说，程序的主线程全责负责了 UI 的处理，要使得程序能够流畅地运行，我们就不能去阻塞主线程，一旦主线程受到一点点的 “阻塞” 伤害，程序就敢马上 “卡顿” 给你看。  
因此，对于程序中一些与 UI 无关的比较 “耗时” 的操作，我们必须将其安排给非主线程进行处理，也就是需要用到多线程，本文简单地对 iOS 的多线程进行介绍，只说明一些关键的概念，不贴任何的代码。

几种方法
====
NSThread
----
这是很基本的一种方法，但是由于使用这种方法，我们需要自己管理线程的生命周期，这是一件 “很烦” 的事情，而且也不利于我们将精力集中在逻辑的处理上面，我认为，技术本质上也是工具，那么作为 “工具”，就应该能够让我们将精力更多地集中在业务逻辑的处理上。

NSOperation/NSOperationQueue
----
这是建立在 GCD 技术上的一种方法，在 GCD 的基础上进行了一层 "面向对象" 的封装，因为是建立在 GCD 的基础上的，与纯粹的 GCD 相比的话，效率自然很逊色一些，但是利用 NSOperation/NSOperationQueue 进行多线程编程的话，我们可以非常方便地对线程的执行
顺序进行约束和控制。


GCD
----
这是 Apple 推荐的一套 “多核” 的多线程处理方案，也是我们最经常用到的。使用起来非常方便。


一些关键概念
====
串行队列
----
串行队列指的是工作线程在取该队列中任务时是一个任务一个任务顺序进行的，队列中下一个任务的执行需要等到上一个任务执行完成。


并发队列
----
并发队列中的任务则可以同时有多个任务被多个线程进行处理，不同任务被工作线程取的时候是按照 “FIFO” 原则的，但是由于在多线程环境下，这些任务的完成次序则可以是随机的。
